const fs = require('fs');
const sharp = require('sharp');
const axios = require('axios');
const FormData = require('form-data'); // ŸÜ€åÿßÿ≤ ÿ®Ÿá npm install form-data ÿß⁄Øÿ± ŸÜÿØÿßÿ±€å

const API_KEY = 'K85487279088957'; // API Key ŸÖÿπÿ™ÿ®ÿ± ŸÇÿ®ŸÑ€å‚Äåÿ™

(async () => {
  console.log("üöÄ ÿ™ÿ≥ÿ™ OCR.space ÿ®ÿß Ÿæ€åÿ¥‚ÄåŸæÿ±ÿØÿßÿ≤ÿ¥ ŸÇŸà€å (ÿ®ÿ±ÿß€å ⁄©Ÿæ⁄Üÿß€å ÿ®ÿßŸÜ⁄©€å ŸÜŸà€åÿ≤€å)...");

  const imagePath = 'data:image/png;base64,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';

  try {
    // Ÿæ€åÿ¥‚ÄåŸæÿ±ÿØÿßÿ≤ÿ¥ ŸÇŸà€å
    const processedBuffer = await sharp(imagePath)
      .resize({ width: 400 })
      .greyscale()
      .median(3)
      .normalize()
      .threshold(120) // 100-140 ÿßŸÖÿ™ÿ≠ÿßŸÜ ⁄©ŸÜ
      .png()
      .toBuffer();

    fs.writeFileSync('./captcha-processed-ocrspace.png', processedBuffer);
    console.log("üñºÔ∏è ÿ™ÿµŸà€åÿ± Ÿæ€åÿ¥‚ÄåŸæÿ±ÿØÿßÿ≤ÿ¥ ÿ¥ÿØŸá ÿ∞ÿÆ€åÿ±Ÿá ÿ¥ÿØ: captcha-processed-ocrspace.png (ÿ®ÿßÿ≤ ⁄©ŸÜ ÿ®ÿ®€åŸÜ ⁄ÜŸÇÿØÿ± ÿ™ŸÖ€åÿ≤ ÿ¥ÿØŸá!)");

    // ÿßÿ±ÿ≥ÿßŸÑ ÿ®Ÿá OCR.space
    const form = new FormData();
    form.append('file', processedBuffer, 'captcha.png');
    form.append('apikey', API_KEY);
    form.append('language', 'eng');
    form.append('OCREngine', '2');
    form.append('scale', 'true');
    form.append('isOverlayRequired', 'false');

    const response = await axios.post('https://api.ocr.space/parse/image', form, {
      headers: form.getHeaders()
    });

    if (response.data.ParsedResults && response.data.ParsedResults[0]) {
      let text = response.data.ParsedResults[0].ParsedText.trim();
      let captchaCode = text.replace(/\D/g, '');

      console.log('\nüì∏ ŸÖÿ™ŸÜ ÿÆÿßŸÖ ÿ™ÿ¥ÿÆ€åÿµ ÿØÿßÿØŸá ÿ¥ÿØŸá:', text);
      console.log('üî¢ ⁄©ÿØ ⁄©Ÿæ⁄Üÿß ÿßÿ≥ÿ™ÿÆÿ±ÿßÿ¨ ÿ¥ÿØŸá:', captchaCode);

      if (captchaCode.length === 4) {
        console.log('‚úÖ ŸÖŸàŸÅŸÇ€åÿ™! ÿß€åŸÜ ÿ±Ÿàÿ¥ ÿ™Ÿà ÿ±ÿ®ÿßÿ™ ÿßÿµŸÑ€å ⁄©ÿßÿ± ŸÖ€å‚Äå⁄©ŸÜŸá.');
      } else {
        console.log('‚ö†Ô∏è ⁄©ÿØ ŸÜÿßŸÇÿµ ‚Äì threshold ÿ±Ÿà ÿ™ÿ∫€å€åÿ± ÿ®ÿØŸá €åÿß ÿ™ÿµŸà€åÿ± processed ÿ±Ÿà ⁄Ü⁄© ⁄©ŸÜ.');
      }
    } else {
      console.log('‚ö†Ô∏è ÿÆÿ±Ÿàÿ¨€å ŸÜÿßŸÖÿπÿ™ÿ®ÿ±:', response.data);
    }

  } catch (error) {
    console.error('‚ùå ÿÆÿ∑ÿß:', error.message);
    if (error.response) console.error('ÿ¨ÿ≤ÿ¶€åÿßÿ™:', error.response.data);
  }
})();